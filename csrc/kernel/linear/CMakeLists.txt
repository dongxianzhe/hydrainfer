include(cc_binary)

cc_binary(
NAME
    linear_test
SRCS
    linear_test.cpp
    linear.cu
DEPS
    torch
    GTest::gtest_main
    glog::glog
    cutlass
)

cc_binary(
NAME
    linear_benchmark
SRCS
    linear_benchmark.cpp
    linear.cu
DEPS
    torch
    glog::glog
    cutlass
    benchmark::benchmark
    benchmark::benchmark_main
)

cc_binary(
NAME
    cute_test
SRCS
    cute_test.cu
DEPS
    torch
    glog::glog
    cutlass
    GTest::gtest_main
)

cc_binary(
NAME
    tile_linear_test
SRCS
    tile_linear_test.cpp
    tile_linear.cu
DEPS
    torch
    GTest::gtest_main
    glog::glog
    cutlass
)

cc_binary(
NAME
    tile_linear_benchmark
SRCS
    tile_linear_benchmark.cpp
    tile_linear.cu
DEPS
    torch
    glog::glog
    cutlass
    benchmark::benchmark
    benchmark::benchmark_main
)

cc_binary(
  NAME 
    tile_linear_nvbench
  SRCS 
    tile_linear_nvbench.cpp
    tile_linear.cu
  DEPS
    nvbench::nvbench
    nvbench::main
  DEPS
    torch
    glog::glog
    cutlass
  COPTS
    -lineinfo 
)